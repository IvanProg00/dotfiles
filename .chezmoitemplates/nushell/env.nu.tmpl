$env.NU_LIB_DIRS = [
    ($nu.default-config-dir | path join 'scripts')
]

$env.NU_PLUGIN_DIRS = [
    ($nu.default-config-dir | path join 'plugins')
]

$env.PATH = (
    $env.PATH | 
    split row (char esep) | 
    append [
        '/opt/homebrew/bin',
        '/opt/homebrew/opt/fzf/bin',
        '~/.cargo/bin',
        '~/go/bin',
        '/Library/Apple/usr/bin',
        '/usr/local/bin',
        '~/.pub-cache/bin',
        '~/.local/bin',
        '~/.local/share/solana/install/active_release/bin'
    ]
)

$env.EDITOR = 'nvim'
{{- if and (index . "ai") .ai.geminiApiKey }}
$env.GEMINI_API_KEY = '{{ .ai.geminiApiKey }}'
$env.GOOGLE_API_KEY = '{{ .ai.geminiApiKey }}'
$env.GOOGLE_AI_API_KEY = '{{ .ai.geminiApiKey }}'
{{- end }}

$env.LIBTORCH = '/opt/homebrew/Cellar/pytorch/2.5.1_4'
$env.LD_LIBRARY_PATH = '/opt/homebrew/Cellar/pytorch/2.5.1_4/lib'

### Atuin ###
atuin init nu | save -f ~/.local/share/atuin/init.nu

### StarShip ###
starship init nu | save -f ~/.cache/starship/init.nu

### Zoxide ###
zoxide init nushell | save -f ~/.zoxide.nu
